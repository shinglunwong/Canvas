<!DOCTYPE Html>
<html>

<head>
    <title>DAB Picasso</title>
    <meta name="viewport" content="user-scalable=no, width=device-width, initial-scale=1, maximum-scale=1">

    <!-- Debug -->
    <script>
        var isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent); // only open console on mobile
    </script>

    <!-- CSS -->
    <link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/spectrum/1.8.0/spectrum.min.css">
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-slider/10.0.0/css/bootstrap-slider.min.css">
    <link rel="stylesheet" type="text/css" href="assets/css/style.css">

    <!-- favicon error fix -->
    <link rel="shortcut icon" href="favicon.ico">

</head>

<body>
    <!-- input form -->
    <div class='splash'>
        <div id="overlay">
            <div id="form-text">
                <form class='canvas-size' method='post'>
                    <div class='size-forms'>
                        <span>W: </span>
                        <input type="text" name="width" value="" class="dimension form-control" id="width">
                    </div>
                    <div class='size-forms'>
                        <span>&nbsp&nbsp H: </span>
                        <input type="text" name="height" value="" class="dimension form-control" id="height">
                    </div>
                    <div class='submit-button'>
                        <input type="submit" value="Create Canvas" class="form-button" id="create">
                    </div>
                    <div class='import-button'>
                        <!-- <button type="button" class="import-file" title="Import file [i]" data-shortcut="i">
                            <svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
                                viewBox="0 0 52 52" style="enable-background:new 0 0 52 52;" xml:space="preserve">
                                <rect x="2" y="1" style="fill:#424A60;stroke:#E7ECED;stroke-width:2;stroke-miterlimit:10;" width="48" height="50" />
                                <circle style="fill:#EFCE4A;" cx="14" cy="13.569" r="4.569" />
                                <rect x="2" y="41" style="fill:#E7ECED;" width="48" height="10" />
                                <polygon style="fill:#1A9172;" points="49,32.111 48,31 36,20 25.5,31.5 30.983,36.983 35,41 49,41 " />
                                <polygon style="fill:#25AE88;" points="30.983,36.983 20.017,26.017 3,41 35,41 " />
                            </svg>
                        </button> -->
                        <input type='button' class='import-file form-button' value='Import Image'>
                    </div>
                </form>

            </div>
        </div>
    </div>
    <!-- Stylebar -->
    <nav class="navbar navbar-expand-sm">
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
            <div class="button-style">
                <div class="main-function align-left">
                    <span class="btn btn-secondary color-picker" title="Color">
                        <input id='color-picker' />
                    </span>
                    <input type="text" class="stroke-size change-stroke-size" value="10">
                    <input id="size-slider" type="text" data-slider-min="1" data-slider-max="30" data-slider-step="1" data-slider-value="10"
                    />
                </div>
                <div class="side-function align-center">
                    <!-- brush panel -->
                    <div class="brush-panel">
                        <button class='btn brush-style'>
                            <i class="fas fa-circle"></i>
                        </button>
                        <button class='btn brush-style-1'>
                            <i class="fas fa-paint-brush"></i>
                        </button>
                        <button class='btn brush-style-2'>
                            <img src="assets/images/tool.png">
                        </button>
                    </div>
                    <!-- shape panel -->
                    <div class="shape-panel">
                        <span class="btn btn-secondary color-stroke-picker" title="Stroke Color">
                            <input id='color-stroke-picker' />
                        </span>
                    </div>
                    <!-- sticker panel -->
                    <div class="sticker-panel">
                        <button class="btn" id="selected-sticker">
                            <img src="assets/stickers/grinning-face_1f600.png">
                        </button>
                        <ul class="emoji-grid">
                            <li>
                                <img src="assets/stickers/alien-monster_1f47e.png">
                            </li>
                            <li>
                                <img src="assets/stickers/beer-mug_1f37a.png">
                            </li>
                            <li>
                                <img src="assets/stickers/black-sun-with-rays_2600.png">
                            </li>
                            <li>
                                <img src="assets/stickers/face-savouring-delicious-food_1f60b.png">
                            </li>
                            <li>
                                <img src="assets/stickers/flag-for-hong-kong_1f1ed-1f1f0.png">
                            </li>
                            <li>
                                <img src="assets/stickers/ghost_1f47b.png">
                            </li>
                            <li>
                                <img src="assets/stickers/grinning-face_1f600.png">
                            </li>
                            <li>
                                <img src="assets/stickers/heavy-black-heart_2764.png">
                            </li>
                            <li>
                                <img src="assets/stickers/kiss-mark_1f48b.png">
                            </li>
                            <li>
                                <img src="assets/stickers/monkey-face_1f435.png">
                            </li>
                            <li>
                                <img src="assets/stickers/nerd-face_1f913.png">
                            </li>
                            <li>
                                <img src="assets/stickers/party-popper_1f389.png">
                            </li>
                            <li>
                                <img src="assets/stickers/pile-of-poo_1f4a9.png">
                            </li>
                            <li>
                                <img src="assets/stickers/robot-face_1f916.png">
                            </li>
                            <li>
                                <img src="assets/stickers/smiling-face-with-horns_1f608.png">
                            </li>
                            <li>
                                <img src="assets/stickers/smiling-face-with-sunglasses_1f60e.png">
                            </li>
                            <li>
                                <img src="assets/stickers/soft-ice-cream_1f366.png">
                            </li>
                            <li>
                                <img src="assets/stickers/thumbs-up-sign_1f44d.png">
                            </li>
                            <li>
                                <img src="assets/stickers/victory-hand_270c.png">
                            </li>
                            <li>
                                <img src="assets/stickers/winking-face_1f609.png">
                            </li>
                        </ul>
                    </div>
                    <!-- filter panel -->
                    <div class="filter-desktop">
                        <button class='btn previous-filter'>
                            <i class="fas fa-caret-left"></i>
                        </button>
                        <button class='btn apply-filter'>
                            <i class="fas fa-check"></i>
                        </button>
                        <button class='btn next-filter'>
                            <i class="fas fa-caret-right"></i>
                        </button>
                    </div>
                    <!-- text panel -->
                    <div class="text-panel">
                        <select class="form-control form-control-sm select-font" id="font"></select>

                        <input type="text" class="text-rotate" value="0">
                        <div class="btn-group-vertical">
                            <button type="button" class='text-rotate-picker' id="text-rotate-more">
                                <i class="fas fa-angle-up"></i>
                            </button>
                            <button type="button" class='text-rotate-picker' id="text-rotate-less">
                                <i class="fas fa-angle-down"></i>
                            </button>
                        </div>
                    </div>
                </div>
                <div class='setting-function align-right'>
                    <button class="btn grid" title="Grid [g]" data-shortcut="g">
                        <i class="fas fa-th"></i>
                    </button>
                    <button class='btn undo' title="Grid [left]" data-shortcut="left">
                        <i class="fas fa-reply"></i>
                    </button>
                    <button class='btn redo' title="Grid [right]" data-shortcut="right">
                        <i class="fas fa-share"></i>
                    </button>
                    <button class="btn new-project" title="New project [n]" data-shortcut="n">
                        <i class="fas fa-file-alt"></i>
                    </button>
                    <div class="dropdown">
                        <button class='btn dropbtn'>
                            <i class="fas fa-cog"></i>
                        </button>
                        <div class="dropdown-content">
                                <button class='replay'>
                                    <i class="fas fa-play-circle"></i>
                                </button>
                                <button class='clear'>
                                    <i class="fas fa-trash-alt"></i>
                                    <a class="save" download="canvas-drawing.jpg">
                                        <button>
                                            <i class="fas fa-save"></i>
                                        </button>
                                    </a>
                        </div>
                    </div>
                </div>
            </div>
    </nav>
    <!-- Toolbar-->
    <div id="tools" class="btn-group-vertical">
        <button type="button" class="btn btn-secondary" id="Brush" title="Brush [b]" data-shortcut="b">
            <svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="-12 -12 40 40" width="100%" height="100%">
                <path class="target" d="m3.19298,1.77277c0,0.08354 -0.02379,0.25618 -0.08354,0.41771c-0.09722,0.2628 -0.23328,0.55005 -0.37594,0.87719c-0.14934,0.34247 -0.33417,0.71011 -0.50125,1.12782c-0.16709,0.41771 -0.4419,0.98854 -0.54303,1.62907c-0.12394,0.78503 0.07874,1.09751 0.16709,1.12782c0.20146,0.06912 0.37796,0.07074 0.58479,0.04177c0.30116,-0.04218 0.62471,-0.17279 1.00251,-0.2924c0.41576,-0.13162 0.83939,-0.28187 1.2949,-0.45948c0.50593,-0.19726 1.20682,-0.55344 1.96324,-0.87719c0.70601,-0.30218 1.42022,-0.62657 2.1721,-0.96074c0.75188,-0.33416 1.41755,-0.67411 2.04679,-0.96073c1.12315,-0.51161 1.52972,-0.87428 1.67084,-0.75188c0.09979,0.08655 -0.17206,0.28915 -0.33417,0.54302c-0.47422,0.74267 -1.44555,2.25592 -2.75689,4.01003c-0.64059,0.85688 -2.40431,2.35522 -2.00501,2.96575c0.04572,0.06991 0.78847,-0.18668 2.96574,-0.75188c2.50052,-0.64912 4.47191,-1.23232 5.30493,-0.66834c0.07735,0.05236 -0.18254,0.45472 -1.46199,1.33667c-0.69638,0.48004 -2.06649,1.59225 -2.04678,1.62908c0.07107,0.13278 0.73973,0.1745 1.62907,0.79365c0.97084,0.67588 1.07976,1.41487 0.79365,1.92147c-0.2342,0.4147 -0.6039,0.71474 -0.58479,0.75188c0.16442,0.3195 2.29106,0.51896 3.13283,1.79615c0.56353,0.85503 -0.2924,1.58731 -0.62657,2.1721l1.37845,1.46199l3.92648,2.46449"
                    stroke-width="2" stroke="#000000" fill-opacity="0.0" style="fill: none; fill-opacity: 1; stroke: rgb(34, 34, 34); opacity: 1;"></path>
            </svg>
        </button>
        <button type="button" class="btn btn-secondary" id="Line" title="Line [l]" data-shortcut="l">
            <svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="100%" height="100%" viewBox="0 0 64 64">
                <line class="target" y2="62.5%" x2="75%" y1="37.5%" x1="25%" stroke-width="4" stroke="#000000" style="fill: none; fill-opacity: 1; stroke: rgb(34, 34, 34); opacity: 1;"></line>
            </svg>
        </button>
        <button type="button" class="btn btn-secondary" id="Rectangle" title="Rectangle [r]" data-shortcut="r">
            <svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="100%" height="100%" viewBox="0 0 64 64">
                <rect class="target" x="25%" y="25%" width="50%" height="40%" stroke-width="4" style="fill: rgb(74, 144, 214); fill-opacity: 1; stroke: rgb(34, 34, 34); opacity: 1;"></rect>
            </svg>
        </button>
        <button type="button" class="btn btn-secondary" id="Circle" title="Circle [c]" data-shortcut="c">
            <svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="100%" height="100%" viewBox="0 0 64 64">
                <ellipse class="target" rx="25%" ry="20%" cy="50%" cx="50%" stroke-width="4" style="fill: rgb(74, 144, 214); fill-opacity: 1; stroke: rgb(34, 34, 34); opacity: 1;"></ellipse>
            </svg>
        </button>
        <button type="button" class="btn btn-secondary" id="Polygon" title="Polygon [p]" data-shortcut="p">
            <svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="-6 -6 36 36" width="100%" height="100%">
                <path class="target" d="m4.06652,19.02639l12.92382,1.97361l3.00965,-5.92085l-4.03648,-11.07915l-12.46352,2.73615l0.56652,12.29024z"
                    stroke-width="2" style="fill: rgb(74, 144, 214); fill-opacity: 1; stroke: rgb(34, 34, 34); opacity: 1;"></path>
            </svg>
        </button>
        <button type="button" class="btn btn-secondary" id="Text" title="Text [t]" data-shortcut="t"> Aa</button>
        </button>
        <button type="button" class="btn btn-secondary" id="Eraser" title="Eraser [e]" data-shortcut="e">
            <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" id="Layer_1" x="0px" y="0px"
                viewBox="0 0 280 280" style="enable-background:new 0 0 280 280;width: 24px;" xml:space="preserve">
                <path style="fill:#26A6D1;" d="M183.679,4.634l91.683,91.683c6.178,6.178,6.178,16.207,0,22.385L118.695,275.359   c-6.178,6.187-16.207,6.187-22.385,0L4.637,183.676c-6.178-6.178-6.178-16.198,0-22.376L161.295,4.634   C167.482-1.545,177.501-1.545,183.679,4.634z"
                />
                <path style="fill:#E2574C;" d="M84.34,81.597L4.637,161.3c-6.178,6.178-6.178,16.198,0,22.376l91.683,91.683   c6.178,6.187,16.207,6.187,22.385,0l79.703-79.694L84.34,81.597z"
                />
                <path style="fill:#CB4E44;" d="M40.585,125.352L4.637,161.3c-6.178,6.178-6.178,16.198,0,22.376l91.683,91.683   c6.178,6.187,16.207,6.187,22.385,0l35.949-35.94L40.585,125.352z"
                />
                <path style="fill:#EAE5E4;" d="M20.416,145.548l114.041,114.041l-10.555,10.555L9.861,156.103L20.416,145.548z" />
            </svg>
        </button>
        <button type="button" class="btn btn-secondary" id="Sticker" title="Sticker [s]" data-shortcut="s">
            <img src="assets/stickers/grinning-face_1f600.png" width="29px">
        </button>
        <button type="button" class="btn btn-secondary" id="Filter" title="Filter [f]" data-shortcut="f">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" style="width: 27px;">
                <path style="fill:black;" d="M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48zm-6.5 314.9c-3.5 8.1-18.1 14-44.8 18.2-1.4 1.9-2.5 9.8-4.3 15.9-1.1 3.7-3.7 5.9-8.1 5.9h-.2c-6.2 0-12.8-2.9-25.8-2.9-17.6 0-23.7 4-37.4 13.7-14.5 10.3-28.4 19.1-49.2 18.2-21 1.6-38.6-11.2-48.5-18.2-13.8-9.7-19.8-13.7-37.4-13.7-12.5 0-20.4 3.1-25.8 3.1-5.4 0-7.5-3.3-8.3-6-1.8-6.1-2.9-14.1-4.3-16-13.8-2.1-44.8-7.5-45.5-21.4-.2-3.6 2.3-6.8 5.9-7.4 46.3-7.6 67.1-55.1 68-57.1 0-.1.1-.2.2-.3 2.5-5 3-9.2 1.6-12.5-3.4-7.9-17.9-10.7-24-13.2-15.8-6.2-18-13.4-17-18.3 1.6-8.5 14.4-13.8 21.9-10.3 5.9 2.8 11.2 4.2 15.7 4.2 3.3 0 5.5-.8 6.6-1.4-1.4-23.9-4.7-58 3.8-77.1C159.1 100 206.7 96 220.7 96c.6 0 6.1-.1 6.7-.1 34.7 0 68 17.8 84.3 54.3 8.5 19.1 5.2 53.1 3.8 77.1 1.1.6 2.9 1.3 5.7 1.4 4.3-.2 9.2-1.6 14.7-4.2 4-1.9 9.6-1.6 13.6 0 6.3 2.3 10.3 6.8 10.4 11.9.1 6.5-5.7 12.1-17.2 16.6-1.4.6-3.1 1.1-4.9 1.7-6.5 2.1-16.4 5.2-19 11.5-1.4 3.3-.8 7.5 1.6 12.5.1.1.1.2.2.3.9 2 21.7 49.5 68 57.1 4 1 7.1 5.5 4.9 10.8z"
                />
            </svg>
        </button>
    </div>

    <!-- Canvas -->
    <div id="canvas">
        <canvas id="canvas-real" class="canvas"></canvas>
        <canvas id="canvas-draft" class="canvas"></canvas>
        <div id="canvas-grid" class="canvas grid"></div>
    </div>
    <div class='cursors'>
        <div class='cursor'></div>
        <div class='cursor-outer'></div>
    </div>
    <input type="file" class="upload" />

    <!-- JS dependencies -->
    <script type='text/javascript' src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
    <script type='text/javascript' src="https://cdnjs.cloudflare.com/ajax/libs/spectrum/1.8.0/spectrum.min.js"></script>
    <script type='text/javascript' src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"></script>
    <script type='text/javascript' src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>
    <script type='text/javascript' src="https://cdn.jsdelivr.net/npm/jquery.hotkeys@0.1.0/jquery.hotkeys.js"></script>
    <script defer src="https://use.fontawesome.com/releases/v5.0.8/js/solid.js" integrity="sha384-+Ga2s7YBbhOD6nie0DzrZpJes+b2K1xkpKxTFFcx59QmVPaSA8c7pycsNaFwUK6l"
        crossorigin="anonymous"></script>
    <script defer src="https://use.fontawesome.com/releases/v5.0.8/js/fontawesome.js" integrity="sha384-7ox8Q2yzO/uWircfojVuCQOZl+ZZBg2D2J5nkpLqzH1HY0C1dHlTKIbpRz/LG23c"
        crossorigin="anonymous"></script>
    <script type='text/javascript' src="https://hammerjs.github.io/dist/hammer.min.js"></script>
    <script type='text/javascript' src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-slider/10.0.0/bootstrap-slider.min.js"></script>

    <!-- Functions -->
    <script type='text/javascript' src="assets/js/canvas-common.js"></script>
    <script type='text/javascript' src="assets/js/drawing-brush.js"></script>
    <script type='text/javascript' src="assets/js/drawing-brush-2.js"></script>
    <script type='text/javascript' src="assets/js/drawing-line.js"></script>
    <script type='text/javascript' src="assets/js/drawing-rectangle.js"></script>
    <script type='text/javascript' src="assets/js/drawing-circle.js"></script>
    <script type='text/javascript' src="assets/js/drawing-text.js"></script>
    <script type='text/javascript' src="assets/js/drawing-polygon.js"></script>
    <script type='text/javascript' src="assets/js/drawing-sticker.js"></script>
    <script type='text/javascript' src="assets/js/drawing-filter.js"></script>
    <script type='text/javascript' src="assets/js/init.js"></script>

    <!-- mobile debug -->

    <div id="logger" class="web_console" style='    background-color: white;
    bottom: 0;
    z-index:-1;
    position: absolute;
    width: 100vw;
    height: 200px;
    overflow: scroll;
    display:none;'></div>

    <script type="text/javascript">
        if (isMobile) {
            $('#logger').show();
            // Overriding console object
            var console = {};

            // Getting div to insert logs
            var logger = document.getElementById("logger");

            // Adding log method from our console object
            console.log = function (text) {
                var element = document.createElement("div");
                var txt = document.createTextNode(text);


                element.appendChild(txt);
                $(logger).prepend(element);
                // logger.appendChild(element);
            }


            /**
                console.log prints the message in the page instead browser console, useful to programming and debugging JS using a Android phone
                
            */
        }
    </script>
</body>

</html>